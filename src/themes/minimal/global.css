/**
 * src/themes/default/global.css
 * 
 * This file defines the global CSS styles for the default theme of the website.
 * It serves as the foundational stylesheet that establishes the site's design system,
 * including Tailwind CSS integration, custom utility classes, CSS variables for
 * theming, and responsive design elements. The file implements a comprehensive
 * design system with light and dark mode support.
 * 
 * Features:
 * - Tailwind CSS integration with custom configuration
 * - CSS custom properties (variables) for theme management
 * - Custom utility classes for consistent styling
 * - Dark mode support with automatic color scheme switching
 * - Responsive design elements for mobile and desktop
 * - Component-specific styles for UI elements
 * 
 * Architecture:
 * 1. Tailwind imports and configuration
 * 2. Custom utility classes for design system
 * 3. CSS variables for light/dark theme definitions
 * 4. Component-specific styles (header, buttons, etc.)
 * 5. Responsive design and interaction states
 * 
 * CSS Custom Properties:
 * - Font family variables for typography system
 * - Color variables for light and dark themes
 * - Design token system for consistent UI
 * 
 * Utility Classes:
 * - Background color utilities for surfaces and pages
 * - Text color utilities for content hierarchy
 * - Border color utilities for UI elements
 * - Button component utilities with variants
 * 
 * Theme System:
 * - Light mode (:root) with default color scheme
 * - Dark mode (.dark) with inverted color scheme
 * - CSS variable switching for theme transitions
 * - Selection styling for text highlighting
 * 
 * Component Styles:
 * - Header styling with scroll and expanded states
 * - Dropdown menu behavior and hover states
 * - Icon styling with stroke width variants
 * - Menu toggle animation for mobile navigation
 * - Content styling for definition descriptions
 * 
 * Responsive Design:
 * - Mobile-first approach with desktop enhancements
 * - Fixed positioning for mobile menu overlays
 * - Shadow and backdrop effects for depth
 * - Transition effects for interactive elements
 * 
 * Usage Context:
 * - Global site styling foundation
 * - Theme management through CSS variables
 * - Component styling consistency
 * - Responsive design implementation
 * - Dark mode support and transitions
 */

/* 
 * Tailwind CSS imports and configuration
 * Integrates Tailwind with the theme's custom configuration
 */
@import 'tailwindcss';
@config './tailwind.config.js';

/*
 * Custom utility classes for background colors
 * Provides consistent background styling across components
 */

/**
 * Page background utility
 * Sets background to page background color variable
 */
@utility bg-page {
  background-color: var(--aw-color-bg-page);
}

/**
 * Dark background utility
 * Sets background to dark page background color
 */
@utility bg-dark {
  background-color: var(--aw-color-bg-page-dark);
}

/**
 * Light background utility
 * Sets background to light page background color
 */
@utility bg-light {
  background-color: var(--aw-color-bg-page);
}

/**
 * Surface background utility
 * Sets background to surface color for UI components
 */
@utility bg-surface {
  background-color: var(--aw-color-surface);
}

/**
 * Muted surface background utility
 * Sets background to muted surface color for subtle UI elements
 */
@utility bg-surface-muted {
  background-color: var(--aw-color-surface-muted);
}

/**
 * Elevated surface background utility
 * Sets background to elevated surface color for cards and modals
 */
@utility bg-surface-elevated {
  background-color: var(--aw-color-surface-elevated);
}

/**
 * Border background utility
 * Sets background to border color for decorative elements
 */
@utility bg-border {
  background-color: var(--aw-color-border);
}

/*
 * Custom utility classes for text colors
 * Provides consistent text styling across components
 */

/**
 * Page text utility
 * Sets text color to page text color variable
 */
@utility text-page {
  color: var(--aw-color-text-page);
}

/**
 * Muted text utility
 * Sets text color to muted text color for secondary content
 */
@utility text-muted {
  color: var(--aw-color-text-muted);
}

/*
 * Custom utility classes for border colors
 * Provides consistent border styling across components
 */

/**
 * Surface border utility
 * Sets border color to surface border color
 */
@utility border-surface {
  border-color: var(--aw-color-border);
}

/**
 * Strong surface border utility
 * Sets border color to strong surface border color
 */
@utility border-surface-strong {
  border-color: var(--aw-color-border-strong);
}

/*
 * Button component utilities
 * Provides consistent button styling with variants
 */

/**
 * Base button utility
 * Defines core button styles with hover states
 */
@utility btn {
  @apply inline-flex items-center justify-center rounded-md border bg-transparent font-medium text-center text-base text-default leading-snug transition py-3.5 px-6 md:px-8 ease-in duration-200 focus:ring-blue-500 focus:ring-offset-2 focus:ring-2 cursor-pointer;
  border-color: var(--aw-color-border);
  color: var(--aw-color-text-default);
}

/* Button hover state */
.btn:hover {
  background-color: var(--aw-color-surface-muted);
  border-color: var(--aw-color-border-strong);
}

/**
 * Primary button utility
 * Styles for primary action buttons with brand colors
 */
@utility btn-primary {
  @apply btn font-semibold bg-primary text-white border-transparent hover:bg-secondary hover:text-white;
}

/**
 * Secondary button utility
 * Styles for secondary action buttons
 */
@utility btn-secondary {
  @apply btn;
}

/**
 * Tertiary button utility
 * Styles for subtle action buttons with no border
 */
@utility btn-tertiary {
  @apply btn border-none shadow-none text-muted;
}

/* Tertiary button hover state */
.btn-tertiary:hover {
  color: var(--aw-color-text-default);
}

/*
 * Light theme CSS variables (:root)
 * Defines the default color scheme and design tokens
 */
:root {
  /* Font family variables for typography system */
  --aw-font-sans: 'Inter Variable';
  --aw-font-serif: 'Inter Variable';
  --aw-font-heading: 'Inter Variable';

  /* Brand color variables */
  --aw-color-primary: rgb(0 0 0);
  --aw-color-secondary: rgb(64 64 64);
  --aw-color-accent: rgb(115 115 115);

  /* Text color variables */
  --aw-color-text-heading: rgb(0 0 0);
  --aw-color-text-default: rgb(16 16 16);
  --aw-color-text-muted: rgb(16 16 16 / 66%);
  --aw-color-bg-page: rgb(255 255 255);

  /* Surface color variables for UI components */
  --aw-color-surface: rgb(255 255 255);
  --aw-color-surface-muted: rgb(248 250 252);
  --aw-color-surface-elevated: rgb(241 245 249);
  --aw-color-border: rgb(226 232 240);
  --aw-color-border-strong: rgb(203 213 225);

  /* Dark page background for theme transitions */
  --aw-color-bg-page-dark: rgb(3 6 32);

  /* Text selection styling */
  ::selection {
    background-color: lavender;
  }
}

/*
 * Dark theme CSS variables (.dark)
 * Defines the inverted color scheme for dark mode
 */
.dark {
  /* Font family variables (same as light theme) */
  --aw-font-sans: 'Inter Variable';
  --aw-font-serif: 'Inter Variable';
  --aw-font-heading: 'Inter Variable';

  /* Brand color variables (same as light theme) */
  --aw-color-primary: rgb(255 255 255);
  --aw-color-secondary: rgb(212 212 212);
  --aw-color-accent: rgb(163 163 163);

  /* Text color variables for dark theme */
  --aw-color-text-heading: rgb(247, 248, 248);
  --aw-color-text-default: rgb(229 236 246);
  --aw-color-text-muted: rgb(229 236 246 / 66%);
  --aw-color-bg-page: rgb(3 6 32);

  /* Surface color variables for dark theme UI components */
  --aw-color-surface: rgb(17 24 39);
  --aw-color-surface-muted: rgb(29 41 63);
  --aw-color-surface-elevated: rgb(39 53 83);
  --aw-color-border: rgb(71 85 105);
  --aw-color-border-strong: rgb(94 106 134);

  /* Text selection styling for dark theme */
  ::selection {
    background-color: black;
    color: snow;
  }
}

/*
 * Header component styles
 * Provides responsive styling for site navigation
 */

/* Header scroll state styling */
#header.scroll > div:first-child {
  @apply bg-page;
  box-shadow: none;
}

/* Dark header scroll state styling */
.dark #header.scroll > div:first-child,
#header.scroll.dark > div:first-child {
  @apply bg-page;
  box-shadow: none;
}

/* Header scroll padding adjustment */
#header.scroll > div:last-child {
  @apply py-3;
}

/* Expanded mobile menu positioning */
#header.expanded nav {
  position: fixed;
  top: 70px;
  left: 0;
  right: 0;
  bottom: 70px !important;
  padding: 0 5px;
}

/*
 * Dropdown menu behavior
 * Controls visibility of dropdown menus on interaction
 */
.dropdown:focus .dropdown-menu,
.dropdown:focus-within .dropdown-menu,
.dropdown:hover .dropdown-menu {
  display: block;
}

/*
 * Icon styling utilities
 * Provides consistent icon stroke widths
 */

/* Light icon stroke width */
[astro-icon].icon-light > * {
  stroke-width: 1.2;
}

/* Bold icon stroke width */
[astro-icon].icon-bold > * {
  stroke-width: 2.4;
}

/*
 * Menu toggle animation
 * Provides hamburger to X animation for mobile menu
 */

/* Menu toggle path transition */
[data-aw-toggle-menu] path {
  @apply transition;
}

/* Expanded menu toggle first path animation */
[data-aw-toggle-menu].expanded g > path:first-child {
  @apply -rotate-45 translate-y-[15px] translate-x-[-3px];
}

/* Expanded menu toggle last path animation */
[data-aw-toggle-menu].expanded g > path:last-child {
  @apply rotate-45 translate-y-[-8px] translate-x-[14px];
}

/*
 * Definition description styling
 * Removes margin from first child elements
 */
.dd *:first-child {
  margin-top: 0;
}
